<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jack B. Huber, Ph.D.">
<meta name="dcterms.date" content="2022-08-30">

<title>EDLD 710: Data Analysis for Problems of Practice</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./intro.html" rel="next">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">EDLD 710: Data Analysis for Problems of Practice</span>
  </a>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">EDLD 710: Data Analysis for Problems of Practice</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">| label: setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#purpose-of-this-document" id="toc-purpose-of-this-document" class="nav-link active" data-scroll-target="#purpose-of-this-document"> <span class="header-section-number">1</span> Purpose of this Document</a></li>
  <li><a href="#planning-the-project" id="toc-planning-the-project" class="nav-link" data-scroll-target="#planning-the-project"> <span class="header-section-number">2</span> Planning the Project</a>
  <ul class="collapse">
  <li><a href="#the-causal-logic-of-the-project" id="toc-the-causal-logic-of-the-project" class="nav-link" data-scroll-target="#the-causal-logic-of-the-project"> <span class="header-section-number">2.1</span> The causal logic of the project</a></li>
  <li><a href="#how-many-patients" id="toc-how-many-patients" class="nav-link" data-scroll-target="#how-many-patients"> <span class="header-section-number">2.2</span> How many patients?</a></li>
  </ul></li>
  <li><a href="#collecting-your-data" id="toc-collecting-your-data" class="nav-link" data-scroll-target="#collecting-your-data"> <span class="header-section-number">3</span> Collecting your Data</a>
  <ul class="collapse">
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources"> <span class="header-section-number">3.1</span> Data Sources</a></li>
  <li><a href="#granularity-of-data" id="toc-granularity-of-data" class="nav-link" data-scroll-target="#granularity-of-data"> <span class="header-section-number">3.2</span> Granularity of data</a></li>
  <li><a href="#advice-for-data-collection-and-management" id="toc-advice-for-data-collection-and-management" class="nav-link" data-scroll-target="#advice-for-data-collection-and-management"> <span class="header-section-number">3.3</span> Advice for Data Collection and Management</a></li>
  </ul></li>
  <li><a href="#analyzing-your-data" id="toc-analyzing-your-data" class="nav-link" data-scroll-target="#analyzing-your-data"> <span class="header-section-number">4</span> Analyzing your Data</a>
  <ul class="collapse">
  <li><a href="#preparing-your-data-for-analysis" id="toc-preparing-your-data-for-analysis" class="nav-link" data-scroll-target="#preparing-your-data-for-analysis"> <span class="header-section-number">4.1</span> Preparing your data for analysis</a></li>
  <li><a href="#choosing-appropriate-statistics" id="toc-choosing-appropriate-statistics" class="nav-link" data-scroll-target="#choosing-appropriate-statistics"> <span class="header-section-number">4.2</span> Choosing appropriate statistics</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"> <span class="header-section-number">5</span> </a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">EDLD 710: Data Analysis for Problems of Practice</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jack B. Huber, Ph.D. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 30, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="purpose-of-this-document" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Purpose of this Document</h1>
<p>The purpose of this document is to assemble some advice and resources to support Swedish Pharmacy residents in their journey from project proposal to a completed research project for presentation and publication.</p>
<hr>
</section>
<section id="planning-the-project" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Planning the Project</h1>
<section id="the-causal-logic-of-the-project" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="the-causal-logic-of-the-project"><span class="header-section-number">2.1</span> The causal logic of the project</h2>
<p>The resident researcher should begin the project with a basic sense of the design logic of the project. The point of this section is to introduce or reinforce a few basic concepts of research design as they apply to the resident research project.</p>
<p>The project aspires to make a case for a proposed improved medical treatment. This case rests on causal evidence that the proposed treatment is more clinically effective than the current mode of treatment. The most convincing case would demonstrate that the treatment alone caused the improvement and cast doubt that the improvement would have happened anyway. To thoughtfully plan data collection for the strongest causal evidence, and to anticipate and minimize challenges of rival explanations, is the purpose of research <strong>design</strong> <span class="citation" data-cites="CampbellStanley1963">(<a href="references.html#ref-CampbellStanley1963" role="doc-biblioref"><strong>CampbellStanley1963?</strong></a>)</span>.</p>
<p>The ideal design would be based on random assignment of patients to conditions, as in a randomly controlled trial. The resident researcher would randomly assign patients to a control condition and various treatment conditions, then compare outcomes of all these groups following treatment, and the outcomes will differ at least slightly. Assume patients in the treatment conditions had better outcomes than patients in the control condition. The resident could attribute this difference to the treatment alone because in all other ways the groups would differ only by chance <em>by design</em>.</p>
<p>Random assignment is probably not an option for resident research project. Until that happens, the project falls under the category of <strong>quasi-experiment</strong> which means it is more vulnerable to <strong>confounding explanations</strong> of any differences in outcomes.</p>
<p>The resident research project based on retrospective chart review will culminate in a comparison between two groups: a pre-implementation group and a post-implementation group. Assume a set of data that show better outcomes for the post-implementation group. Great! Can we attribute that to implementation of an improved treatment or protocol, or for some other reason would the post-implementation group have fared better anyway?</p>
<p>One potentially confounding pre-existing difference between the two groups is <em>time</em>, or history. A recent resident project provides a good example. In this project, the time frame for the pre-implementation group was early 2020 and thus this group had a higher incidence of COVID-19 infection than the more recent post-implementation group. Were outcomes for the pre-implementation group less favorable because more of them were infected with COVID-19? The proposed dosing protocol may very well have improved outcomes for the post-implementation group. The problem is there are competing explanations of the results. Pre-existing differences between the two groups in COVID-19 infection amounted to a <em>confounding</em> variable due to history.</p>
<p>The point here is not to teach a course in research design but to help the resident researcher clarify for this project:</p>
<ul>
<li>What are the primary outcomes to improve? Length of stay? Time-to-therapeutic level? These are <em>dependent</em> variables. They depend on, or are the effects of, other variables.</li>
<li>What is the difference in treatment intended to cause the improvement in the post-implementation group? This is the independent variable.</li>
<li>All other variables are control variables. They should differ only by chance. If there is a noticeable pre-existing difference, and the level of that factor in one group affects the outcome, it is a confound.</li>
</ul>
</section>
<section id="how-many-patients" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="how-many-patients"><span class="header-section-number">2.2</span> How many patients?</h2>
<p>Possibly the most pressing question for resident research projects is: <strong>How many patients do I need?</strong></p>
<p>The resident research project will culiminate in a series of comparisons between the pre-implementation and post-implementation groups. Outcomes of the two samples will differ by at least some quantity. The resident researcher expresses this difference as an effect, like this:</p>
<p>[insert table about here]</p>
<p>Assume that this effect suggests more favorable outcomes for the post-implementation group. This effect raises several questions:</p>
<ul>
<li>How do we evaluate this effect?</li>
<li>Could we attribute it to chance? (because it would be very unlikely for both groups to have exactly the same outcomes)</li>
<li>Or is it larger than that?</li>
</ul>
<p>In statistical terms, this is a question of <strong>statistical power</strong>. Power is the ability to isolate a treatment effect when it really does exist <span class="citation" data-cites="Cohen1988">(<a href="references.html#ref-Cohen1988" role="doc-biblioref"><strong>Cohen1988?</strong></a>)</span>. Power is a function of effect size, sample size, and statistical significance. In order to decide on a number of patients we need to have a sense of what size of effect we want to reliably detect.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/power-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This a plot of power rates against these other variables. A large effect (r ~ 0.5) is detectable with a sample of any size. But only large samples have the power to detect a statistically significant (p &lt; .05) small correlation (r = 0.1).</p>
<hr>
</section>
</section>
<section id="collecting-your-data" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Collecting your Data</h1>
<section id="data-sources" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="data-sources"><span class="header-section-number">3.1</span> Data Sources</h2>
<p>For collecting data from Epic, it might be helpful to have a sense of the landscape of its different databases. There are three primary databases:</p>
<p><img src="EpicDataLandscape.png" class="img-fluid"></p>
<p><strong>Chronicles</strong>. This is the database that is collecting data from Hyperspace in real time. For reporting, Reporting Workbench pulls data directly from Chronicles, but it is otherwise not designed very well for historical reporting.</p>
<p><strong>Clarity</strong>. This is the primary relational database for reporting Epic data. Through a nightly process known as ETL (“extract-transform-load”), Clarity extracts data from Chronicles and stores it in a thousand bazillion tables (think “spreadsheets”). To pull data for a report from Clarity is to identify the correct tables and fields and to write a SQL query to join the tables, apply the appropriate selection criteria, and report the appropriate fields.</p>
<p><strong>Caboodle</strong>. This a relatively new relational database that functions essentially the same as Clarity but is designed to be much easier to use. Caboodle uses fewer tables derived from myriad Clarity tables which vastly simplifies the work and complexity of writing a SQL query. The down side is not all Clarity data are in Caboodle.</p>
</section>
<section id="granularity-of-data" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="granularity-of-data"><span class="header-section-number">3.2</span> Granularity of data</h2>
<p>Granularity means two related things. One is the size of the data point which is to say what context it provides for other, smaller, data points. The other is, essentially this question: What does a row in the spreadsheet mean? There are several different levels of granularity:</p>
<p><strong>Patient-level data</strong>. A patient has a unique ID number: the MRN. No two patients have the same MRN. When it comes to mining Epic data for the research project, the patient list is perhaps the most important: the resident needs a “patient list”. When it comes to data mining, the patient “level” is context to more granular data in the sense that a patient can have multiple encounters - and thus multiple Encounter CSNs “within” the same Patient MRN.</p>
<p><strong>Encounter-level data</strong>. The unique Epic ID number for the encounter is the CSN. The encounter is context to more granular data such as a treatment regimen of a particular medicine. Multiple drug administrations can occur “within” an encounter CSN.</p>
<p><strong>Medication administration level data</strong>. This is possibly the lowest level and the most granular data. In Caboodle, each administration of a medicine has a unique ID number and is time-stamped. My queries to date have been for counts of medicine administrations, or firsts, lasts, minimums and maximum doses within a hospital encounter or ICU stay.</p>
<p><strong>Lab results level data</strong>. Lab data is similar to medicine administration data because, again in Caboodle, each lab result is has its own unique ID number and is time-stamped. There can be a great many lab results within a hospital encounter. My queries to date have been for counts of lab results, or firsts, lasts, minimums and maximum values within a hospital encounter or ICU stay.</p>
<p>The resident data collection form is designed for patient level data; each row in the spreadsheet captures the experience of a hospital encounter. It can also be helpful to report the medicine administration and lab result data sorted chronologically by patient and encounter.</p>
</section>
<section id="advice-for-data-collection-and-management" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="advice-for-data-collection-and-management"><span class="header-section-number">3.3</span> Advice for Data Collection and Management</h2>
<p><strong>Be proactive</strong>. As you begin to decide what data to collect, submit your project plan and requests for data in writing to me (Jack) as soon as possible. This is so I can have a bit of time to understand your project, do some discovery in Caboodle or Clarity, and note any questions. Then meet with me via Teams to get on the same page.</p>
<p><strong>Devise a system for organizing your data</strong>. By this I mean version control. This data collection process is iterative. You will ask for data and I’ll write a SQL query that produces an Excel workbook of data. That’s one iteration. In all likelihood you’ll need a revision or two. Upon receiving your feedback I’ll edit my query and produce for you a new set of data to replace the first set. That’s the second iteration. The more iterations, the more data, the more potential for multiple versions and data overload. And I may not be able to do more than a few iterations. I can work on some best practices to help us through this. Stay tuned.</p>
<p><strong>There is no substitute for chart review</strong>. Some fraction of resident research data can come from Epic data mining, but it still needs to be validated with careful chart review. And some data which are very difficult to mine or to query into the correct format may have to come from chart review.</p>
<hr>
</section>
</section>
<section id="analyzing-your-data" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Analyzing your Data</h1>
<p>You have data. Congratulations! Let’s analyze!</p>
<section id="preparing-your-data-for-analysis" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="preparing-your-data-for-analysis"><span class="header-section-number">4.1</span> Preparing your data for analysis</h2>
<p>The first step is to complete a number of tasks to prepare your data for analysis. One data matrix. See the exemplar.</p>
</section>
<section id="choosing-appropriate-statistics" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="choosing-appropriate-statistics"><span class="header-section-number">4.2</span> Choosing appropriate statistics</h2>
<p>It is important to know the measurement level of your variables. How do you express the outcome by which to compare your pre- and post- samples? Is it…</p>
<ul>
<li>Mortality rate (% surviving)? In such a case you would be comparing two proportions.</li>
<li>“Time to…” a therapeutic level? In such a case you would be comparing two different quantities of time.</li>
</ul>
<p><strong>Odds ratios / Logistic regression</strong>. Some outcomes are binary. Yes or no. Something happened or it didn’t. Treatment worked or it did not. For projects with binary outcomes, the researcher will want to consider comparing odds ratios. Logistic regression would be the appropriate technique for modeling differences between the pre- and post-implementation groups in whether patients landed in one category or the other.</p>
<p><strong>Chi-square test of independence</strong>. Some outcomes are categorical. There is no “more” or “less” but rather different categories of outcomes. For projects with categorical outcomes, the researcher will want to consider using chi-square tests of independence.</p>
<p><strong>Two-sample t-test</strong>.</p>
<p><strong>Z test of the difference of proportions</strong>.</p>
<p><strong>Cohen’s <em>d</em> effect size</strong>.</p>
</section>
</section>
<section id="section" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> </h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./intro.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>